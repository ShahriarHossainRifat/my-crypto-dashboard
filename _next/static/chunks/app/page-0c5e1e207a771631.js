(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2965:(e,t,a)=>{"use strict";a.d(t,{default:()=>A});var r=a(5155),s=a(2115),l=a(6072);let n=function(e,t){let[a,r]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let a=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(a)}},[e,t]),a},o="https://api.coingecko.com/api/v3";async function i(){try{let t=await fetch("".concat(o,"/global"),{method:"GET",headers:{}});if(!t.ok){let a="HTTP error! status: ".concat(t.status);try{var e;let r=await t.json();a+=", message: ".concat((null==r||null==(e=r.status)?void 0:e.error_message)||JSON.stringify(r))}catch(e){}throw Error("Failed to fetch global market data: ".concat(a))}let a=await t.json();if(!a||!a.data)throw Error("Invalid global data format received from API");return a.data}catch(e){throw console.error("API Client Error - fetchGlobalData:",e),e}}let c=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:"\n          flex h-10 w-full rounded-md border border-input\n          bg-background px-3 py-2 text-sm text-foreground\n          ring-offset-background\n          file:border-0 file:bg-transparent file:text-sm file:font-medium\n          placeholder:text-muted-foreground\n          focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\n          focus-visible:ring-offset-2\n          disabled:cursor-not-allowed disabled:opacity-50\n          ".concat(a,"\n        "),ref:t,...l})});c.displayName="Input";var d=a(4315);let u=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("select",{className:"\n            flex h-10 w-full items-center justify-between rounded-md border border-input\n            bg-background px-3 py-2 text-sm\n            ring-offset-background placeholder:text-muted-foreground\n            focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\n            disabled:cursor-not-allowed disabled:opacity-50\n            appearance-none // Remove default system appearance\n            pr-8 // Add padding for the custom arrow icon\n            ".concat(a,"\n          "),ref:t,...l,children:s}),(0,r.jsx)(d.Vr3,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":"true"})]})});u.displayName="Select";let m=e=>{let{searchTerm:t,sortOption:a,onSearchChange:s,onSortChange:l}=e;return(0,r.jsxs)("div",{className:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsx)("div",{className:"w-full sm:w-auto sm:max-w-xs lg:max-w-sm",children:(0,r.jsx)(c,{type:"text",placeholder:"Search coins (e.g., Bitcoin, BTC)...",value:t,onChange:e=>{s(e.target.value)},"aria-label":"Search coins",className:"h-9"})}),(0,r.jsx)("div",{className:"w-full sm:w-auto sm:min-w-[180px]",children:(0,r.jsxs)(u,{value:a,onChange:e=>{l(e.target.value)},"aria-label":"Sort by",className:"h-9",children:[(0,r.jsx)("option",{value:"market_cap_desc",children:"Sort by Market Cap (High-Low)"}),(0,r.jsx)("option",{value:"market_cap_asc",children:"Sort by Market Cap (Low-High)"}),(0,r.jsx)("option",{value:"volume_desc",children:"Sort by Volume (High-Low)"}),(0,r.jsx)("option",{value:"volume_asc",children:"Sort by Volume (Low-High)"}),(0,r.jsx)("option",{value:"id_asc",children:"Sort by Name (A-Z)"}),(0,r.jsx)("option",{value:"id_desc",children:"Sort by Name (Z-A)"})]})})]})};var x=a(6766),h=a(8544);function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",a=arguments.length>2?arguments[2]:void 0;if(null==e)return"N/A";let r=a;return void 0===r&&(r=Math.abs(e)>=1?2:Math.abs(e)>=.001?4:8),new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:r}).format(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;if(null==e)return"N/A";let r=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:t,maximumFractionDigits:a}).format(e),s=e>0?"+":"";return"".concat(s).concat(r,"%")}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd";if(null==e)return"N/A";let a=new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase(),notation:"compact",minimumFractionDigits:1,maximumFractionDigits:2});return 0===e?a.format(0).replace("0","0.0"):a.format(e)}let b={hidden:{opacity:0,y:15},visible:e=>({opacity:1,y:0,transition:{delay:.03*e,duration:.4,ease:"easeOut"}})},v=e=>{var t,a,s,l;let{coin:n,index:o}=e,i=null!=(t=n.price_change_percentage_24h)?t:null,c=null!=(a=n.price_change_percentage_1h_in_currency)?a:null,u=null!=(s=n.price_change_percentage_7d_in_currency)?s:null,m=e=>null==e||0===e?"text-muted-foreground":e>0?"text-positive":"text-negative",v=m(c),j=m(i),y=m(u),N="string"==typeof n.image&&n.image.startsWith("http");return(0,r.jsxs)(h.P.tr,{className:"border-b border-border hover:bg-accent/50 transition-colors duration-150",variants:b,initial:"hidden",animate:"visible",custom:o,layout:!0,children:[(0,r.jsx)("td",{className:"px-2 py-3 text-center text-xs tabular-nums text-muted-foreground",children:null!=(l=n.market_cap_rank)?l:"-"}),(0,r.jsx)("td",{className:"px-3 py-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2.5",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-6 w-6",children:N?(0,r.jsx)(x.default,{src:n.image,alt:"".concat(n.name," logo"),width:24,height:24,className:"rounded-full",onError:e=>{console.warn("Failed to load image: ".concat(n.image)),e.target.style.display="none"}}):(0,r.jsx)("div",{className:"flex h-full w-full items-center justify-center rounded-full bg-muted",children:(0,r.jsx)(d.CgP,{className:"h-4 w-4 text-muted-foreground"})})}),(0,r.jsxs)("div",{className:"flex flex-col items-start",children:[(0,r.jsx)("span",{className:"font-medium text-sm text-foreground whitespace-nowrap",children:n.name}),(0,r.jsx)("span",{className:"text-xs text-muted-foreground uppercase",children:n.symbol})]})]})}),(0,r.jsx)("td",{className:"px-3 py-3 text-right font-medium text-sm tabular-nums",children:p(n.current_price)}),(0,r.jsx)("td",{className:"px-3 py-3 text-right text-sm font-medium hidden lg:table-cell tabular-nums ".concat(v),children:g(c)}),(0,r.jsx)("td",{className:"px-3 py-3 text-right text-sm font-medium tabular-nums ".concat(j),children:g(i)}),(0,r.jsx)("td",{className:"px-3 py-3 text-right text-sm font-medium hidden lg:table-cell tabular-nums ".concat(y),children:g(u)}),(0,r.jsx)("td",{className:"px-3 py-3 text-right text-sm text-muted-foreground tabular-nums hidden md:table-cell",children:f(n.market_cap)}),(0,r.jsx)("td",{className:"px-3 py-3 text-right text-sm text-muted-foreground tabular-nums hidden md:table-cell",children:f(n.total_volume)})]})},j=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:"\n        animate-pulse\n        rounded-md\n        bg-muted // Use the muted background color from theme\n        dark:opacity-80\n        ".concat(t," // Allow overriding/extending styles\n      "),...a})},y=e=>{let{data:t,isLoading:a=!1,itemsPerPage:s=30}=e,l=[{key:"rank",label:"#",className:"px-2 py-3 text-center text-xs font-medium text-muted-foreground uppercase tracking-wider w-12"},{key:"name",label:"Name",className:"px-3 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider"},{key:"price",label:"Price",className:"px-3 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider"},{key:"1h",label:"1h %",className:"px-3 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider hidden lg:table-cell"},{key:"24h",label:"24h %",className:"px-3 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider"},{key:"7d",label:"7d %",className:"px-3 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider hidden lg:table-cell"},{key:"market_cap",label:"Market Cap",className:"px-3 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider hidden md:table-cell"},{key:"volume_24h",label:"Volume (24h)",className:"px-3 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider hidden md:table-cell"}],n=l.length;return(0,r.jsx)("div",{className:"w-full overflow-hidden rounded-lg border border-border shadow-sm",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-border",children:[(0,r.jsx)("thead",{className:"bg-muted/50 dark:bg-muted/30",children:(0,r.jsx)("tr",{children:l.map(e=>(0,r.jsx)("th",{scope:"col",className:e.className,children:e.label},e.key))})}),(0,r.jsxs)("tbody",{className:"divide-y divide-border bg-card",children:[a&&Array.from({length:s}).map((e,t)=>(0,r.jsxs)("tr",{className:"border-b border-border animate-pulse",children:[(0,r.jsx)("td",{className:"px-2 py-3 text-center",children:(0,r.jsx)(j,{className:"h-4 w-6 mx-auto"})}),(0,r.jsx)("td",{className:"px-3 py-3",children:(0,r.jsx)(j,{className:"h-4 w-3/4"})}),(0,r.jsx)("td",{className:"px-3 py-3",children:(0,r.jsx)(j,{className:"h-4 w-full ml-auto"})}),(0,r.jsx)("td",{className:"px-3 py-3 hidden lg:table-cell",children:(0,r.jsx)(j,{className:"h-4 w-full ml-auto"})}),(0,r.jsx)("td",{className:"px-3 py-3",children:(0,r.jsx)(j,{className:"h-4 w-full ml-auto"})}),(0,r.jsx)("td",{className:"px-3 py-3 hidden lg:table-cell",children:(0,r.jsx)(j,{className:"h-4 w-full ml-auto"})}),(0,r.jsx)("td",{className:"px-3 py-3 hidden md:table-cell",children:(0,r.jsx)(j,{className:"h-4 w-full ml-auto"})}),(0,r.jsx)("td",{className:"px-3 py-3 hidden md:table-cell",children:(0,r.jsx)(j,{className:"h-4 w-full ml-auto"})})]},"skeleton-".concat(t))),!a&&t&&t.length>0&&t.map((e,t)=>(0,r.jsx)(v,{coin:e,index:t},e.id)),!a&&(!t||0===t.length)&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:n,className:"text-center p-6 text-muted-foreground",children:"No data available."})})]})]})})})},N=e=>{let{currentPage:t,totalPages:a,onPageChange:s}=e;return a<=1?null:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-4 mt-6",children:[(0,r.jsx)("button",{onClick:()=>{t>1&&s(t-1)},disabled:1===t,"aria-label":"Go to previous page",className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input hover:bg-accent hover:text-accent-foreground h-9 w-9 p-0 disabled:text-muted-foreground",children:(0,r.jsx)(d._Jj,{className:"h-4 w-4"})}),(0,r.jsxs)("span",{className:"text-sm font-medium text-foreground",children:["Page ",t," of ",a]}),(0,r.jsx)("button",{onClick:()=>{t<a&&s(t+1)},disabled:t===a,"aria-label":"Go to next page",className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input hover:bg-accent hover:text-accent-foreground h-9 w-9 p-0 disabled:text-muted-foreground",children:(0,r.jsx)(d.X6T,{className:"h-4 w-4"})})]})},w=e=>{let{className:t="",children:a,...s}=e;return(0,r.jsx)("div",{className:"flex flex-col space-y-1.5 p-4 md:p-6 ".concat(t),...s,children:a})},k=e=>{let{className:t="",children:a,...s}=e;return(0,r.jsx)("h3",{className:"text-lg font-semibold leading-none tracking-tight ".concat(t),...s,children:a})},_=e=>{let{className:t="",children:a,...s}=e;return(0,r.jsx)("div",{className:"p-4 pt-0 md:p-6 md:pt-0 ".concat(t),...s,children:a})},C=e=>{let{className:t="",children:a,...s}=e;return(0,r.jsx)("div",{className:"flex items-center p-4 pt-0 md:p-6 md:pt-0 ".concat(t),...s,children:a})},S=e=>{let{children:t,className:a="",...s}=e;return(0,r.jsx)("div",{className:"\n        rounded-lg border border-border bg-card text-card-foreground shadow-sm\n        transition-colors duration-150 ease-in-out\n        ".concat(a,"\n      "),...s,children:t})},F=e=>{let{title:t,value:a,changePercentage:s,formatType:l="currency",currency:n="usd",isLoading:o=!1,icon:i,tooltip:c}=e,u=(e=>{if(null==e)return"--";switch(l){case"compact":return f(e,n);case"currency":default:return p(e,n);case"number":return e.toLocaleString("en-US",{minimumFractionDigits:1,maximumFractionDigits:1})+(t.toLowerCase().includes("dominance")?"%":"")}})(a),m=g(s),x=null==s||0===s?d.iu5:s>0?d.jth:d.Yn0,h=null==s||0===s?"text-muted-foreground":s>0?"text-positive":"text-negative";return(0,r.jsxs)(S,{className:"flex flex-col group hover:bg-accent/50 transition-colors duration-150",children:[" ",(0,r.jsxs)(w,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsxs)(k,{className:"text-sm font-medium text-muted-foreground",children:[" ",t]}),i&&(0,r.jsx)("span",{className:"text-muted-foreground",children:i})]}),(0,r.jsxs)(_,{className:"flex-grow",children:[" ",o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j,{className:"h-7 w-3/4 mb-2"}),(0,r.jsx)(j,{className:"h-4 w-1/2"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold tracking-tight mb-1",children:u}),("number"==typeof s||null===s)&&(0,r.jsxs)("div",{className:"flex items-center text-xs ".concat(h),children:[(0,r.jsx)(x,{className:"mr-1 h-3 w-3 flex-shrink-0"}),(0,r.jsxs)("span",{className:"truncate",children:[null!==s?m:"--"," vs prev. 24h"]})]})]})]}),c&&!o&&(0,r.jsx)(C,{className:"pt-2 pb-2",children:(0,r.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center",children:[(0,r.jsx)(d.sv1,{className:"mr-1.5 h-3 w-3 flex-shrink-0"}),c]})})]})},L=e=>{var t,a,s;let{globalData:l,isLoading:n=!1}=e,o=null==l||null==(t=l.total_market_cap)?void 0:t.usd,i=null==l||null==(a=l.total_volume)?void 0:a.usd,c=null==l?void 0:l.market_cap_change_percentage_24h_usd,u=null==l||null==(s=l.market_cap_percentage)?void 0:s.btc,m=null==l?void 0:l.active_cryptocurrencies;return(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4 text-foreground",children:"Market Overview"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[(0,r.jsx)(F,{title:"Market Cap",value:o,changePercentage:c,formatType:"compact",currency:"usd",isLoading:n,icon:(0,r.jsx)(d.Tsk,{}),tooltip:"Total market capitalization of all cryptocurrencies."}),(0,r.jsx)(F,{title:"24h Volume",value:i,formatType:"compact",currency:"usd",isLoading:n,icon:(0,r.jsx)(d.Ncn,{}),tooltip:"Total crypto trading volume in the last 24 hours."}),(0,r.jsx)(F,{title:"BTC Dominance",value:u,formatType:"number",isLoading:n,icon:(0,r.jsx)(d.qvi,{}),tooltip:"Bitcoin's market cap share compared to the total crypto market cap."}),(0,r.jsx)(F,{title:"Active Coins",value:m,formatType:"number",isLoading:n,icon:(0,r.jsx)(d.lWC,{}),tooltip:"Number of active cryptocurrencies listed."})]})]})},P=async e=>{try{let t=await fetch(e);if(!t.ok){let e=await t.text().catch(()=>"Could not read error response body");throw console.error("[Fetcher] API Error: Status ".concat(t.status,", Response: ").concat(e)),Error("API request failed: ".concat(t.status," ").concat(t.statusText))}return t.json()}catch(e){throw console.error("[Fetcher] Fetch execution error:",e),e}},T=async()=>i(),A=e=>{let{initialData:t}=e,[a,i]=(0,s.useState)(""),[c,d]=(0,s.useState)("market_cap_desc"),[u,x]=(0,s.useState)(1),h=n(a,300),p=(0,s.useMemo)(()=>o+"/coins/markets?"+new URLSearchParams({vs_currency:"usd",order:c,per_page:"30",page:u.toString(),sparkline:"false",price_change_percentage:"1h,24h,7d",locale:"en"}).toString(),[u,c,30]),{data:g,error:f,isLoading:b}=(0,l.Ay)(p,P,{refreshInterval:3e5,fallbackData:1!==u||"market_cap_desc"!==c||h?void 0:t}),{data:v,error:j,isLoading:w}=(0,l.Ay)("".concat(o,"/global"),T,{refreshInterval:3e5}),k=(0,s.useMemo)(()=>{var e;return null!=(e=null!=g?g:t)?e:[]},[g,t]),_=(0,s.useMemo)(()=>h?k.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.symbol.toLowerCase().includes(h.toLowerCase())):k,[k,h]),C=b&&!g&&!(null==t?void 0:t.length),S=k&&30===k.length?u+1:u,F=(0,s.useCallback)(e=>{i(e),x(1)},[]),A=(0,s.useCallback)(e=>{d(e),x(1)},[]),D=(0,s.useCallback)(e=>{x(e)},[]);return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(L,{globalData:v,isLoading:w&&!v}),(0,r.jsx)(m,{searchTerm:a,sortOption:c,onSearchChange:F,onSortChange:A}),f&&(0,r.jsxs)("div",{className:"text-center text-destructive my-6",children:["Failed to load cryptocurrency list data. ",(0,r.jsx)("br",{}),(0,r.jsxs)("span",{className:"text-sm",children:["(",f.message||"Please try again later.",")"]})]}),!f&&j&&!v&&(0,r.jsx)("div",{className:"text-center text-orange-500 my-2 text-sm",children:"Market overview data could not be loaded."}),(0,r.jsx)(y,{data:_,isLoading:C,itemsPerPage:30}),!f&&!C&&S>1&&(0,r.jsx)(N,{currentPage:u,totalPages:S,onPageChange:D}),!C&&h&&(null==_?void 0:_.length)===0&&(0,r.jsxs)("div",{className:"text-center text-muted-foreground my-6",children:['No results found for "',h,'".']})]})}},7931:(e,t,a)=>{Promise.resolve().then(a.bind(a,2965))}},e=>{var t=t=>e(e.s=t);e.O(0,[446,935,441,684,358],()=>t(7931)),_N_E=e.O()}]);